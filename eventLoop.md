# eventLoop
调用栈 微任务队列 消息队列

-宏任务：宿主（node 浏览器）发起的，script代码块、setTimeout和setInterval、postmessage、setImmediate、用户交互事件（比如鼠标点击、滚动页面、放大缩小等）
-微任务：js引擎发起的，promise、object.observe、process.nickTick
1、eventloop开始的的时候回一行一行执行，调用栈是先进后出的，执行函数会依次被压入栈底。
2、js的异步操作setTimeout setInterval等宏任务在被压入调用栈后会进入到消息队列中去，等到调用栈清空后eventLoop才会去任务队列中取出带调用栈中执行
3、promise async await的异步操作在进入调用栈后会加入到微任务中，会在调用栈清空时立即执行，微任务比任务队列先执行，调用栈中加入微任务会立即执行


## 什么是事件循环机制event loop？
答：js是单线程运行的，在代码运行时，将不同的函数执行上下文压入到执行栈中有序进行(先入后出), 当遇到异步任务时会将该任务挂起，并且按微任务和宏任务分类，添加进对应的队列中，然后继续执行执行栈中的任务。当执行栈的同步代码执行完后。js引擎会优先查看任务队列中的微任务的回调函数，有的话会将微任务的事件按顺序全部执行，当微任务执行完后才会去将宏任务的回调函数压入执行栈中执行。
总结起来就是：一次 Eventloop 循环会处理一个宏任务和所有这次循环中产生的微任务。